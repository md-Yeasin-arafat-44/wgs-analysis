conda create -n flye_env python=3.8
conda activate flye_env
conda install bioconda::flye

gunzip /mnt/d/Paper_Reproduction/01_Raw_Data/nstu_reads_fastq.gz


flye --iterations 5 \
     -t 4 \
     -o /mnt/d/Paper_Reproduction/03_Assembly/flye_output \
     --scaffold \
     --read-error 0.03 \
     --nano-hq /mnt/d/Paper_Reproduction/01_Raw_Data/nstu_reads.fastq



cd /mnt/d/Paper_Reproduction/03_Assembly/flye_output



awk '$4 == "N"' assembly_info.txt | cut -f 1 > rotate_ignore_list


pip install dnaapler

conda install -c bioconda mmseqs2


dnaapler all --ignore /mnt/d/Paper_Reproduction/03_Assembly/flye_output/rotate_ignore_list --input /mnt/d/Paper_Reproduction/03_Assembly/flye_output/assembly.fasta --output /mnt/d/Paper_Reproduction/03_Assembly/flye_output/rotated --prefix strain1 --threads 8 -f


cd /mnt/d/Paper_Reproduction/03_Assembly/flye_output

ls

cat flye.log

echo "$strain   $assemblysize   $coverage       $fragments      $N50" >> /mnt/d/Paper_Reproduction/03_Assembly/assembly_statistics.txt




